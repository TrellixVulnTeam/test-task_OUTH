var demonstration = {
    load:[
        {
            loadId: 'one',
            loadImage: "../../../src/images/icons/video.png",
        },
        {
            loadId: 'two',
            loadImage: "../../../src/images/icons/gaming.png",
        }
    ],
    category: [
        {
            cName: "swipe/move",
            subCLinks: [
                {
                    linkName: "Emek",
                    link: "https://adsil1.com/tools/demonstrations/emek/0917/index.html",
                    info: "some text"
                },
                {
                    linkName: "swipe Game Cellcom",
                    link: "https://adsil1.com/tools/demonstration/cellcom/swipe_game/1018/index.html",
                    info: "some text"
                },
                {
                    linkName: "XL",
                    link: "https://adsil1.com/tools/demonstration/XL/1905/live/index.html",
                    info: "some text"
                },
                {
                    linkName: "Azorim",
                    link: "http://adsil1.com/tools/demonstration/azorim/0518/index.html",
                    info: "some text"
                },
                {
                    linkName: "Knor",
                    link: "http://ds1.co.il/demonstrations/knor/1217/index.html",
                    info: "some text"
                },
                {
                    linkName: "Clalit",
                    link: "https://adsil1.com/Clalit/20_01/inter_video/live/",
                    info: "some text"
                },
                {
                    linkName: "Hogla",
                    link: "http://adsil1.com/tools/demonstration/hogla/hogla_paper/index.html",
                    info: "some text"
                },
                {
                    linkName: "schollrazor",
                    link: "http://adsil1.com/tools/demonstration/schollrazor/index.html",
                    info: "some text"
                },
                {
                    linkName: "cafejoestraw",
                    link: "http://adsil1.com/tools/demonstration/cafejoestraw062016/index.html",
                    info: "some text"
                },
                {
                    linkName: "lotus",
                    link: "http://adsil1.com/tools/demonstration/lotusdip022016/index.html",
                    info: "some text"
                },

                {
                    linkName: "clalit Wheel Of Fortune",
                    link: "http://adsil1.com/tools/demonstration/clalitWheelOfFortune/index.html",
                    info: "some text"
                },
                {
                    linkName: "Box",
                    link: "http://adsil1.com/tools/demonstration/hashmalBox122016/index.html",
                    info: "some text"
                },
                {
                    linkName: "yopllait",
                    link: "http://adsil1.com/tools/demonstration/yopllait/index.html",
                    info: "some text"
                },
                {
                    linkName: "nikol",
                    link: "http://adsil1.com/tools/demonstration/nikol/obf/index.html",
                    info: "some text"
                },
                {
                    linkName: "BYashir",
                    link: "http://adsil1.com/tools/demonstration/BYashir/index.html",
                    info: "some text"
                },

                {
                    linkName: "fruit ninja",
                    link: "http://adsil1.com/tools/demonstration/fruit/index.html",
                    info: "some text"
                },

            ],

        },

        {
            cName: "video",
            cIcon: "../../../src/images/icons/video.png",
            subCLinks: [
                {
                    linkName: "super Pharm",
                    link: "http://adsil1.com/tools/demonstrations/superPharm/0917",
                    info: "some text",


                    isDesktop: true
                },
                {
                    linkName: "club hotel",
                    link: "http://adsil1.com/tools/demonstration/clubhotel/0318/index.html",
                    info: "some text",
                    loadImage: "../../../src/images/icons/desktop.png",
                    loadId: "two",
                    isDesktop: false
                },
            ],
        },

        {
            cName: "touch/Click",
            cIcon: "../../../src/images/icons/scratch.png",
            subCLinks: [
                {
                    linkName: "kiss",
                    link: "http://adsil1.com/tools/demonstration/kiss/sign/1018/index.html",
                    info: "some text"
                },
                {
                    linkName: "leumicard",
                    link: "http://adsil1.com/tools/demonstration/leumicard/1217/index.html",
                    info: "some text"
                },
                {
                    linkName: "omepradex",
                    link: "http://adsil1.com/tools/demonstrations/omepradex/1217/index.html",
                    info: "some text"
                },
                {
                    linkName: "carolina bar vibrate",
                    link: "http://adsil1.com/tools/demonstrations/carolina_bar_vibrate/index.html",
                    info: "some text"
                },
                {
                    linkName: "Peugeot",
                    link: "http://adsil1.com/tools/demonstration/Peugeot/0417/index.html",
                    info: "some text"
                },
                {
                    linkName: "blomberg",
                    link: "http://adsil1.com/tools/demonstration/blomberg/index.html",
                    info: "some text"
                },
                {
                    linkName: "nurfen",
                    link: "http://adsil1.com/tools/demonstration/nurfen/demo/index.html",
                    info: "some text"
                },
                {
                    linkName: "be",
                    link: "http://adsil1.com/tools/demonstration/be/0219/index.html",
                    info: "some text"
                },
                {
                    linkName: "yoplait",
                    link: "http://adsil1.com/tools/demonstration/yoplait/smooth/0518/index.html",
                    info: "some text"
                },
                {
                    linkName: "Superpharm Sea Creatures",
                    link: "http://adsil1.com/tools/demonstration/SuperpharmSeaCreatures/obf/index.html",
                    info: "some text"
                },
            ],
        },

        {
            cName: "fifty",
            cIcon: "../../../src/images/icons/50_50.png",
            subCLinks: [
                {
                    linkName: "doron",
                    link: "http://adsil1.com/tools/demonstration/doron_video/index.html",
                    info: "some text"
                },
                {
                    linkName: "axe",
                    link: "http://adsil1.com/tools/demonstrations/axe/0817/index.html",
                    info: "some text"
                },
                {
                    linkName: "poalim",
                    link: "http://adsil1.com/tools/demonstration/poalim/0219/index.html",
                    info: "some text"
                },
                {
                    linkName: "pais",
                    link: "http://adsil1.com/tools/demonstration/pais/0818/pais_half/index.html",
                    info: "some text"
                },
                {
                    linkName: "winner",
                    link: "http://adsil1.com/tools/demonstration/winner/0618/index.html",
                    info: "some text"
                },
                {
                    linkName: "clalit",
                    link: "http://adsil1.com/tools/demonstration/clalit/1217/index.html",
                    info: "some text"
                },
            ],
        },

        {
            cName: "gallery",
            cIcon: "../../../src/images/icons/gallery.png",
            subCLinks: [
                {
                    linkName: "dutyfree",
                    link: "http://adsil1.com/tools/demonstration/dutyfree/index.html",
                    info: "some text"
                },
                {
                    linkName: "leumi card",
                    link: "http://adsil1.com/tools/demonstrations/leumi_card/1217/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "scratch",
            cIcon: "../../../src/images/icons/scratch.png",
            subCLinks: [
                {
                    linkName: "enaim",
                    link: "https://adsil1.com/tools/demonstration/enaim/0617/index.html",
                    info: "some text"
                },
                {
                    linkName: "loreal",
                    link: "http://adsil1.com/tools/demonstration/loreal112016/index.html",
                    info: "some text"
                },
                {
                    linkName: "omepradex",
                    link: "http://adsil1.com/tools/demonstration/omepradex2016/index.html",
                    info: "some text"
                },
                {
                    linkName: "hummus",
                    link: "http://adsil1.com/tools/demonstration/hummus/hummus72016/index.html",
                    info: "some text"
                },
                {
                    linkName: "",
                    link: "",
                    info: "some text"
                },
            ],
        },
        {
            cName: "games",
            cIcon: "../../../src/images/icons/gaming.png",
            subCLinks: [
                {
                    linkName: "ybitan",
                    link: "http://adsil1.com/tools/demonstration/ybitan/index.html",
                    info: "some text"
                },
                {
                    linkName: "tapuzina",
                    link: "http://adsil1.com/tools/demonstrations/tapuzina/0817/index.html",
                    info: "some text"
                },
                {
                    linkName: "yopllait",
                    link: "http://adsil1.com/tools/demonstrations/yopllait/0717/index.html",
                    info: "some text"
                },
                {
                    linkName: "winner",
                    link: "http://adsil1.com/tools/demonstration/winner/1018/index.html",
                    info: "some text"
                },
                {
                    linkName: "Schweppes",
                    link: "http://adsil1.com/tools/demonstration/Schweppes/mobile.html",
                    info: "some text"
                },
                {
                    linkName: "scrubbles",
                    link: "http://adsil1.com/tools/demonstration/scrubbles/ad_index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "panorama",
            subCLinks: [
                {
                    linkName: "carSpin",
                    link: "http://adsil1.com/tools/demonstration/carSpin/index.html",
                    info: "some text"
                },
                {
                    linkName: "samsung",
                    link: "http://adsil1.com/tools/demonstration/samsungSpin082016/index.html",
                    info: "some text"
                },
                {
                    linkName: "nutella",
                    link: "http://adsil1.com/tools/demonstration/nutella_360/index.html",
                    info: "some text"
                },
                {
                    linkName: "lexus",
                    link: "http://adsil1.com/tools/demonstration/lexus/0319/index.html",
                    info: "some text"
                },
                {
                    linkName: "clal",
                    link: "http://adsil1.com/tools/demonstration/clal/0618/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "pinch",
            subCLinks: [
                {
                    linkName: "clalit coin",
                    link: "http://adsil1.com/tools/demonstration/clalit_coin/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "stroy",
            subCLinks: [
                {
                    linkName: "industry story",
                    link: "http://adsil1.com/tools/demonstration/industry_story/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "survey",
            subCLinks: [
                {
                    linkName: "winner",
                    link: "http://adsil1.com/tools/demonstration/winner/0718/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "c2c/leads",
            subCLinks: [
                {
                    linkName: "cellcom C2C",
                    link: "http://adsil1.com/tools/demonstration/cellcom_C2C/index.html",
                    info: "some text"
                },
                {
                    linkName: "mizrahi orange",
                    link: "http://adsil1.com/tools/demonstration/mizrahi_orange/0318/index.html",
                    info: "some text"
                },
                {
                    linkName: "cellcom quatro",
                    link: "http://adsil1.com/tools/demonstration/cellcom/cellcom_quatro/0318/index.html",
                    info: "some text"
                },
                {
                    linkName: "pais lead",
                    link: "http://adsil1.com/tools/demonstration/pais/0618/pais_lead/index.html",
                    info: "some text"
                },
                {
                    linkName: "cellcom wifi",
                    link: "http://adsil1.com/tools/demonstration/cellcom/cellcom_wifi/0218/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "shake",
            subCLinks: [
                {
                    linkName: "ford",
                    link: "http://adsil1.com/tools/demonstrations/ford/0817/index.html",
                    info: "some text"
                },
                {
                    linkName: "lily kids",
                    link: "http://adsil1.com/tools/demonstrations/lily_kids/0810/index.html",
                    info: "some text"
                },
                {
                    linkName: "burger king",
                    link: "http://adsil1.com/tools/demonstration/burger_king0417_done/index.html",
                    info: "some text"
                },
                {
                    linkName: "netanya college",
                    link: "http://adsil1.com/tools/demonstration/netanyacollege092016/index.html",
                    info: "some text"
                },
                {
                    linkName: "soda",
                    link: "http://adsil1.com/tools/demonstration/soda_042016/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "select options",
            subCLinks: [
                {
                    linkName: "pais calculator",
                    link: "http://adsil1.com/tools/demonstration/pais_calculator/index.html",
                    info: "some text"
                },
                {
                    linkName: "doron election",
                    link: "http://adsil1.com/tools/demonstration/doron_election/index.html",
                    info: "some text"
                },
                {
                    linkName: "hogla",
                    link: "http://adsil1.com/tools/demonstration/hogla/hogla_doors/index.html\n",
                    info: "some text"
                },
                {
                    linkName: "mashich",
                    link: "http://adsil1.com/tools/demonstration/cellcom/mashich/0718/index.html",
                    info: "some text"
                },
                {
                    linkName: "durexseker",
                    link: "http://adsil1.com/tools/demonstration/durexseker1/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "Creative based on Device",
            subCLinks: [
                {
                    linkName: "landver",
                    link: "http://adsil1.com/tools/demonstrations/landver/1117/android/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "gyro",
            subCLinks: [
                {
                    linkName: "schollrazor",
                    link: "http://adsil1.com/tools/demonstration/schollrazor/index.html",
                    info: "some text"
                },
                {
                    linkName: "Toyotacloud",
                    link: "http://adsil1.com/tools/demonstration/Toyotacloud/test/index.html",
                    info: "some text"
                },
                {
                    linkName: "Gindi",
                    link: "http://adsil1.com/tools/demonstration/Gindi/tilt/themarker/index.html",
                    info: "some text"
                },
            ],
        },
        {
            cName: "timer",
            subCLinks: [
                {
                    linkName: "newpharm",
                    link: "http://adsil1.com/tools/demonstration/newpharm/0318/index.html",
                    info: "some text"
                },
            ],
        },
    ]
}
let products = document.getElementById("js-product-wrapper");
let productDetail = document.getElementById("js-product-detail")
// let subCatList = document.getElementById("js-subcat-list")
let productsList = document.getElementById("js-product-list-wrapper")
if (location.search) {
    let data = {
        catIndex: location.search.split('catIndex=')[1].split('')[0],
        // subCatIndex: location.search.split('subCatIndex=')[1].split('&')[0],
        prodIndex:  location.search.split('prodIndex=')[1].split('')[0],
    }
    openProductDetail(data.catIndex, data.prodIndex)
}
let loadItem = ''
demonstration.load.forEach((l, index) => {
    loadItem =
});

let categoryItem = ''
demonstration.category.forEach((c, index) => {

    categoryItem += `
<div class="category__item" onclick="openProductList(${index})">
  <img src="${c.cIcon}" class="category__item-icon">
                    <div class="category__item-title">${c.cName}</div>
                     </div>`
});
document.getElementById('js-category-list').innerHTML = categoryItem;

function openProductList(index) {
    let productItem = ''
    var owl = $('.owl-carousel-prod');
    demonstration.category[index].subCLinks.forEach((scl, sclIndex) => {
        productItem += `<div class="product__item">
                            <div class="product__item-title" onclick="openProductDetail(${index}, ${sclIndex})">${scl.linkName}</div>
                        </div>`
    })

    productsList.classList.add('main__products--open')
    document.getElementById('js-product-wrapper').innerHTML = productItem
    owl.trigger('destroy.owl.carousel');
    owl.owlCarousel({
            margin: 10,
            nav: true,
            loop: false,
            responsive: {
                0: {
                    items: 3
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 5
                }
            }
        })


}
function openProductDetail(catIndex, prodIndex) {
    const prod = demonstration.category[catIndex].subCLinks[prodIndex]

    productInfo = ''
    productInfo += `   

   <div class="product__name">Name: ${demonstration.category[catIndex].subCLinks[prodIndex].linkName}</div>
                <div class="product__text"><strong>Type:</strong> ${demonstration.category[catIndex].cName}</div>
           <div class="divState">
                    <button class="dsState mobileState btn-state btn-state--mob" onclick="changeState(this)"></button>
                    <button class="dsState desktopState btn-state btn-state--desktop" id="btn-state--desktop" onclick="changeState(this)"></button>
                </div>
                   <div id="divIframe" class="frame-wrapper">
                    <center>
                        <iframe id="dsIframe" src="${prod.link}" class="product__frame product__frame--mob"></iframe>
                          <div class="preloader" id="preloader">
    <img src="${prod.loadImage}" alt="">
  </div>
                    </center>
                </div>
                   <img src="../../../src/images/phone.png" id="js-product-frame-state" class="product__frame-mob" alt="">
                 <div class="product__desc"><strong>Description:</strong> ${prod.info}</div>
                     <a class="product__share" href="javascript:window.location=waCurrentPage();"></a>    
    `
    document.getElementById('js-product-info').innerHTML = productInfo
    document.getElementById('js-product-view').style.display = "block"
    if (prod.isDesktop ==  false) {
     document.getElementById('btn-state--desktop').disabled = true
    }
    history.pushState(null, null, location.pathname + `?catIndex=${catIndex}?prodIndex=${prodIndex}` + `?adv=${demonstration.load[0].loadId}`)
    waCurrentPage = function() {
        return encodeURI("whatsapp://send?text=" + `http://localhost:3000/` + `?catIndex=${catIndex}` +  `?prodIndex=${prodIndex}`);
    }
    document.querySelector('iframe').onload = iframeOnload

    function iframeOnload () {
        document.querySelector('.preloader').remove()
    }
    productsList.classList.remove('main__products--open')

}

//video//
var isMobile2 = true;
var divState = document.getElementsByClassName("divState")[0];
changeView();

function changeView() {
    isMobile2 = true;
    isMobile2 = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    if (isMobile2) {
        dsIframe.height = "423";
        dsIframe.width = "240";
        dsIframe.classList.add(".product__frame--mob")
        dsIframe.setAttribute("state", "mobile");
        dsIframe.contentWindow.location.reload();
        return;
    } else {
        // dsIframe.height = "301";
        // dsIframe.width = "548";
        // dsIframe.classList.remove("product__frame--desktop")
        // dsIframe.classList.add("product__frame--desktop")
        // dsIframe.setAttribute("state", "desktop");
        // dsIframe.contentWindow.location.reload();
        return;
    }

}

function changeState(e) {

   if (e.classList[1] == "mobileState") {
        var productFrame = document.getElementById("js-product-frame-state");
        isMobile2 = true;
        dsIframe.setAttribute("height", 423);
        dsIframe.setAttribute("width", 240)
        dsIframe.setAttribute("state", "mobile");
        dsIframe.classList.add("product__frame--mob");
        dsIframe.classList.remove("product__frame--desktop");
        productFrame.classList.remove("product__frame-desktop");
        productFrame.classList.add("product__frame-mob");
        productFrame.src = "../../../src/images/phone.png"
        dsIframe.contentWindow.location.reload();
        return;
    } else if (e.classList[1] == "desktopState") {
        var productFrame = document.getElementById("js-product-frame-state");
        isMobile2 = false;
        dsIframe.setAttribute("height", 301);
        dsIframe.setAttribute("width", 548);
        dsIframe.setAttribute("state", "desktop");
        dsIframe.classList.add("product__frame--desktop");
        productFrame.classList.remove("product__frame-mob");
        productFrame.classList.add("product__frame-desktop")
        productFrame.src = "../../../src/images/desktop.png";
        dsIframe.classList.remove("product__frame--mob");
        dsIframe.contentWindow.location.reload();
        return;
    }
}

function changeIframe(e) {
    dsIframe.src = e.name
    dsIframe.setAttribute("src", e.name);
}